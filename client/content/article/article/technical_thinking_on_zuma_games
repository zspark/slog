

demo源码早已找不到了，庆幸的是还有2段当时的视频；

#  路线

祖玛的路径可以有好多方法，比如用线段模拟，这就意味着需要大量内存数据，或者使用Bezier曲线，这就需要大量计算。鉴于目前计算机性能与该游戏的复杂度，两者随便都可以，不过我还是倾向于使用Bezier曲线，因为它是平滑曲线，也就是说任意位置可导。而离散的点是不可导的，只能是最大程度的逼近。

由于祖玛的线路不是一条二次贝赛尔曲线能全部展示的。所以它可能是一个贝赛尔曲线的集合，我们可以使用一个数组记录该集合，数组中线路信息在载入内存解析的时候确定。

#  球的方位

球在移动的时候，需要计算其最新的坐标与方向，两者肯定都是计算根据线路信息而。对于离散点线路而言，可以给每一个关键点外加法向信息（或者切向信息），这样可以在两个离散点之间进行线性法向插值与坐标插值，从而决定两个关键点之间球的方位。Beizer曲线的话可以让球记录一个插值系数，从而实时计算最新的位置，方向的话也可以通过两次计算得出。两者都需要统计并计算多段线路的均值，免得在路段A走的快路段B走的慢。

